<ion-header>
	<ion-toolbar>
    	<ion-buttons slot="start">
      		<ion-menu-button></ion-menu-button>
    	</ion-buttons>
		<ion-title>
			Inicio
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
    <ion-card>
		<img src="/assets/shapes.svg" alt="" />
		
		<div *ngIf="auth.user$ | async as user; else login">
        <ion-card-header>
          <button (click)="auth.signOut()">Cerrar Sesión</button>
          <ion-card-subtitle>ANT</ion-card-subtitle>
          <ion-card-title>Formularios</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <form [formGroup]="antForm" (ngSubmit)="onSubmit()">
            <mat-accordion>

				<div formGroupName="soliciudEDP">
					<mat-expansion-panel>
						<mat-expansion-panel-header>
							Numero de Solicitud EDP
						</mat-expansion-panel-header>
						
						<ion-grid>
							<ion-row>
								<mat-form-field>
									<mat-label>Numero de Solicitud EDP</mat-label>
									<input type="text" formControlName="numeroSolicitudEDP" matInput placeholder="Numero de Solicitud EDP">
								</mat-form-field>
							</ion-row>
							<ion-row>
								<ion-button color="success" (click)="updateModel()">Guardar EDP</ion-button>
							</ion-row>
						</ion-grid>
					</mat-expansion-panel>
				</div>
				
				<br>

              <div formGroupName="capituloUno">
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    Capitulo 1. Identificación del Predio
                  </mat-expansion-panel-header>

                    <ion-grid>
      
                    <ion-row>
                      <ion-col>
                        <mat-form-field>
                          <mat-label>Departamento</mat-label>
                          <mat-select formControlName="departamento">
                            <mat-option value=""></mat-option>
                            <mat-option value="prueba">Prueba</mat-option>
                          </mat-select>
                        </mat-form-field>                
                      </ion-col>
                      <ion-col>
                        <mat-form-field>
                          <mat-label>Municipio</mat-label>
                          <mat-select formControlName="municipio">                    
                            <mat-option value=""></mat-option>
                            <mat-option value="prueba">Prueba</mat-option>
                          </mat-select>
                        </mat-form-field>                
                      </ion-col>
                    </ion-row>                                         
      
                    <ion-row>
                      <ion-col>
                        <mat-form-field>
                          <mat-label>Tipo de Territorio</mat-label>
                          <mat-select formControlName="tipoTerritorio">
                            <mat-option value=""></mat-option>
                            <mat-option value="vereda">Vereda</mat-option>
                            <mat-option value="corregimiento">Corregimiento</mat-option>
                            <mat-option value="municipal">Cabecera Municipal</mat-option>
                            <mat-option value="na">N/A</mat-option>
                            <mat-option value="otros">Otros</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </ion-col>
                      <ion-col>
                        <mat-form-field>
                          <input type="text" formControlName="nombreTerritorio" matInput placeholder="Nombre de Territorio">
                        </mat-form-field>
                      </ion-col>
                    </ion-row>
                    
                    <ion-row>
                      <mat-form-field>
                        <input type="text" formControlName="nombrePredio" matInput placeholder="Nombre del predio">
                      </mat-form-field>
					</ion-row>
					
					<ion-row>
						<ion-col>
						  <mat-form-field>
							<mat-label>Zona de Manejo</mat-label>
							<mat-select formControlName="zonaManejo">
							  <mat-option value=""></mat-option>
							  <mat-option value="pdet">PDET</mat-option>
							  <mat-option value="zrc">ZRC</mat-option>
							  <mat-option value="zvc">Zona Veredales de Concetración</mat-option>
							  <mat-option value="otros">Otros</mat-option>
							  <mat-option value="na">N/A</mat-option>
							</mat-select>
						  </mat-form-field>
						</ion-col>
						<!-- <ion-col>
						  <mat-form-field>
							<input type="text" formControlName="nombreTerritorio" matInput placeholder="Nombre de Territorio">
						  </mat-form-field>
						</ion-col> -->
					</ion-row>
      
                    <h3>Coordenadas del Predio</h3>
                    <ion-row>                  
                      <ion-col>
                        <mat-form-field>
                          <input formControlName="latitud" matInput placeholder="Latitud">
                        </mat-form-field>
						<mat-form-field>
						  <input formControlName="longitud" matInput placeholder="Longitud">
						</mat-form-field>
                      </ion-col>
                    </ion-row>          
        
                    <ion-row>
                      <mat-form-field>
                        <input formControlName="observacionesCapituloUno" matInput placeholder="Observaciones Capitulo 1">
                      </mat-form-field>
                    </ion-row>
					
                    <ion-row>
						<ion-button color="success" (click)="updateModel()">Guardar Capitulo 1</ion-button>
                    </ion-row>
      
                  </ion-grid>

                </mat-expansion-panel>
              </div>
			  <br>
              <div formGroupName="capituloDos">
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    Capitulo 2. Información del Predio
                  </mat-expansion-panel-header>
              
				  <ion-row>
					<ion-col>
						<mat-form-field>
						  <input type="number" formControlName="areaPredio" matInput placeholder="Area del predio">
						</mat-form-field>
					</ion-col>
					<ion-col>
						<mat-form-field>
							<mat-label>Medidas</mat-label>
							<mat-select formControlName="medida">
							  <mat-option value=""></mat-option>
							  <mat-option value="ha">Ha</mat-option>
							  <mat-option value="fan">fan</mat-option>
							  <mat-option value="m2">m2</mat-option>
							</mat-select>
						</mat-form-field>
					</ion-col>
				  </ion-row>
				  <h3>Colindantes</h3>
				  <ion-row>
					  <ion-col>
						  <mat-form-field>
							  <input formControlName="norte" matInput placeholder="Norte">
						  </mat-form-field>
					  </ion-col>
					  <ion-col>
						  <mat-form-field>
							  <input formControlName="sur" matInput placeholder="Sur">
						  </mat-form-field>
					  </ion-col>
					  <ion-col>
						  <mat-form-field>
							  <input formControlName="este" matInput placeholder="Este">
						  </mat-form-field>
					  </ion-col>
					  <ion-col>
						  <mat-form-field>
							<input formControlName="oeste" matInput placeholder="Oeste">
						  </mat-form-field>
					  </ion-col>
					</ion-row>
					<ion-row>
							<ion-col>
									<h3>¿Que documento de propiedad posse del predio?</h3>
									<span>Resolución de adjudicación registrada ante la ofician de Registros de Instrumentos Públicos</span>
									  <ion-col>
										  <mat-form-field>
												<input formControlName="norte" matInput placeholder="Numero">
											</mat-form-field>
									  </ion-col>
									  <ion-col>
										  <mat-form-field>
											  <input formControlName="norte" matInput placeholder="Fecha">
										  </mat-form-field>
									  </ion-col> 
								</ion-col>
					</ion-row>
					<ion-row>
							<ion-col>
								<span>Resolución de adjudicación sin registrar</span>
							</ion-col>
								<ion-col>
								  <mat-form-field>
										<input formControlName="norte" matInput placeholder="Numero">
									</mat-form-field>
								</ion-col>
								<ion-col>
								  <mat-form-field>
									  <input formControlName="norte" matInput placeholder="Fecha">
								  </mat-form-field>
								</ion-col>
								<ion-col>
									<ion-row>
										<ion-col>
											<mat-label>¿Otro?</mat-label>
										</ion-col>
										<ion-col>
											<ion-checkbox></ion-checkbox>
										</ion-col>
									</ion-row>
							  	</ion-col>
								  <ion-col>
										<mat-form-field>
										<input formControlName="norte" matInput placeholder="¿Cual?">
										</mat-form-field>
									</ion-col> 
					</ion-row>
					<ion-row>
						<ion-col>
							<mat-label>Entidad de Derecho Publico a la cual fue Adjudicado el predio</mat-label>
						</ion-col>
						<ion-col>
							<mat-form-field>
								<input formControlName="norte" matInput placeholder="Entidad de Derecho Publico a la cual fue Adjudicado el predio">
							</mat-form-field>
						</ion-col>
					</ion-row>
					<!-- <ion-col>
					  <mat-form-field>
						<input type="text" formControlName="nombreTerritorio" matInput placeholder="Nombre de Territorio">
					  </mat-form-field>
					</ion-col> -->
					<ion-row>
						<ion-button color="success" (click)="updateModel()">Guardar Capitulo 2</ion-button>
					</ion-row>
                </mat-expansion-panel>
              </div>
            
            </mat-accordion>
          </form>                   
          
          <!--
          <h3>Firebase Database</h3>
          <ul>
            <li class="text" *ngFor="let item of items | async">
              {{item.name}}
            </li>
          </ul>    
          <ion-button (click)="create({name: 'Test'})">Create</ion-button>
  
          <h3>Reactive Form</h3>
          <form [formGroup]="antForm" (ngSubmit)="onSubmit()">
            
            <div formGroupName="chapterOne">
              <label>
                Name:
                <input type="text" formControlName="name">
              </label>
            </div>
            
            <p>
              Value
            </p>
            
            <button type="submit" [disabled]="!antForm.valid">Submit</button>
          </form>
          -->
  
        </ion-card-content>
    </div>

		<ng-template #login>

			<ion-card-header>
				<ion-card-title>Inicio de Sesion</ion-card-title>
			</ion-card-header>
					
			<ion-card-content>
				<form [formGroup]="loginForm" (ngSubmit)="onLogin()">
					<ion-row>
						<ion-col>
							<mat-form-field>
								<input formControlName="email" matInput placeholder="Correo Electrónico" type="email">
							</mat-form-field>
						</ion-col>
						<ion-col>
							<mat-form-field>
								<input formControlName="password" matInput placeholder="Contraseña" type="password">
							</mat-form-field>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col></ion-col>
						<ion-col>
							<ion-button color="primary">Iniciar Sesión</ion-button>
						</ion-col>
						<ion-col></ion-col>
					</ion-row>	
				</form>
			</ion-card-content>     
		</ng-template>
    </ion-card>
</ion-content>
